# Документация по реализации функционала

## Обзор

Этот проект включает в себя два основных функционала для управления ИТ-инфраструктурой:

1. **Сервисы** - управление сервисами ИТ-инфраструктуры с назначением ответственных лиц
2. **Услуги** - управление услугами ИТ-инфраструктуры с подробной информацией

## Функционал "Сервисы"

Этот функционал позволяет управлять сервисами ИТ-инфраструктуры, включая назначение ответственных лиц и резервных сотрудников.

### Структура данных

В базе данных используется модель `Service` с полями:
- `name` - наименование сервиса
- `description` - описание сервиса
- `responsible` - ответственное лицо (связь с моделью User)
- `backupStaff` - дублирующие сотрудники (множественная связь с моделью User)

### Компоненты

#### API маршруты
- `app/api/services/route.ts` - получение списка сервисов и создание новых
- `app/api/services/[id]/route.ts` - получение, обновление и удаление конкретного сервиса

#### Интерфейс
- `app/services/page.tsx` - основная страница
- `app/services/ServiceForm.tsx` - форма создания/редактирования
- `app/services/ServicesTableClient.tsx` - таблица отображения списка
- `app/services/loading.tsx` - индикатор загрузки

#### Типы данных
- `app/types/service.ts` - определения типов для TypeScript

#### Навигация

Пункт "Сервисы" добавлен в боковое меню в раздел "Основное".

#### Права доступа

Функционал доступен пользователям с ролями:
- ADMIN
- TECHNICIAN

#### Функциональность

- Создание новых сервисов
- Просмотр списка сервисов
- Редактирование существующих сервисов
- Удаление сервисов
- Назначение ответственных и дублирующих сотрудников

## Функционал "Услуги"

Этот функционал позволяет управлять услугами ИТ-инфраструктуры с возможностью ввода следующих данных:
- N п.п. (номер по порядку - автоматически генерируется)
- Код
- Владелец
- Наименование системы
- Код сопровождения
- Наименование сопровождения
- Карточка
- Паспорт
- Примечание

### Структура данных

В базе данных используется модель `ServiceItem` с полями:
- `code` - код услуги (уникальный)
- `owner` - владелец
- `systemName` - наименование системы
- `supportCode` - код сопровождения (опционально)
- `supportName` - наименование сопровождения (опционально)
- `card` - карточка (опционально)
- `passport` - паспорт (опционально)
- `note` - примечание (опционально)

### Компоненты

#### API маршруты
- `app/api/service-items/route.ts` - получение списка услуг и создание новых
- `app/api/service-items/[id]/route.ts` - получение, обновление и удаление конкретной услуги

#### Интерфейс
- `app/service-items/page.tsx` - основная страница
- `app/service-items/ServiceItemForm.tsx` - форма создания/редактирования
- `app/service-items/ServiceItemsTableClient.tsx` - таблица отображения списка
- `app/service-items/loading.tsx` - индикатор загрузки

#### Типы данных
- `app/types/service-item.ts` - определения типов для TypeScript

#### Навигация

Пункт "Услуги" добавлен в боковое меню в раздел "Основное".

#### Права доступа

Функционал доступен пользователям с ролями:
- ADMIN
- TECHNICIAN

#### Функциональность

- Создание новых услуг
- Просмотр списка услуг
- Редактирование существующих услуг
- Удаление услуг
- Валидация данных (обязательные поля: код, владелец, наименование системы)